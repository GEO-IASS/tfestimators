<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Experiments • tfestimators</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">tfestimators</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Using
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Getting Started</li>
    <li>
      <a href="../articles/using_estimators.html">Using Estimators</a>
    </li>
    <li>
      <a href="../articles/input_functions.html">Input Functions</a>
    </li>
    <li>
      <a href="../articles/feature_columns.html">Feature Columns</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Canned Estimators</li>
    <li>
      <a href="../articles/linear_estimators.html">Linear Models</a>
    </li>
    <li>
      <a href="../articles/linear_dnn_combined_estimators.html">Linear/DNN Models</a>
    </li>
    <li>
      <a href="../articles/support_vector_machines.html">Support Vector Machines</a>
    </li>
    <li>
      <a href="../articles/recurrent_nueral_networks.html">Recurrent Nueral Networks</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/experiments.html">Experiments</a>
    </li>
    <li>
      <a href="../articles/run_hooks.html">Run Hooks</a>
    </li>
    <li>
      <a href="../articles/run_configuration.html">Run Configuration</a>
    </li>
    <li>
      <a href="../articles/custom_estimators.html">Custom Estimators</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/deployment.html">Deployment</a>
</li>
<li>
  <a href="../articles/examples/index.html">Examples</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/tfestimators">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Experiments</h1>
            
          </div>

    
    
<div class="contents">
<p>Experiments are designed for easier experiments, e.g. define your model, specify training and evaluation data and steps, frequencies, where to run, metrics to use to monitor the process, etc. They contain all neccessary information required, such as <code>input_fn</code> for both training and evaluation, to run experiments and can be easily packed up to run in cloud, local, or cluster environment.</p>
<p>For example, we firstly construct a classifier</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clf &lt;-
<span class="st">  </span><span class="kw"><a href="../reference/linear_dnn_combined_classifier.html">linear_dnn_combined_classifier</a></span>(
    <span class="dt">linear_feature_columns =</span> linear_feature_columns,
    <span class="dt">dnn_feature_columns =</span> dnn_feature_columns,
    <span class="dt">dnn_hidden_units =</span> <span class="kw">c</span>(3L, 3L),
    <span class="dt">dnn_optimizer =</span> <span class="st">"Adagrad"</span>
  )
  </code></pre></div>
<p>and then we pass the classifier into <code>experiment()</code> together with other neccessary information, such as separate input functions for training and evaluation, training and avaluation steps, etc. Then we can call <code>train_and_evaluate()</code> to conduct the experiment by running training and evaluation altogether.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
experiment &lt;-<span class="st"> </span><span class="kw">experiment</span>(
  clf,
  <span class="dt">train_input_fn =</span> custom_train_input_fn,
  <span class="dt">eval_input_fn =</span> custom_eval_input_fn,
  <span class="dt">train_steps =</span> 3L,
  <span class="dt">eval_steps =</span> 3L,
  <span class="dt">continuous_eval_throttle_secs =</span> 60L
)

experiment_result &lt;-<span class="st"> </span><span class="kw">train_and_evaluate</span>(experiment)</code></pre></div>
<p>The following functions are available for working with experiments:</p>
<table class="table">
<thead><tr class="header">
<th>Method</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>experiment()</code></td>
<td>Create an experiment.</td>
</tr>
<tr class="even">
<td><code>train()</code></td>
<td>Training method for experiments.</td>
</tr>
<tr class="odd">
<td><code>evaluate()</code></td>
<td>Evaluation method for experiments.</td>
</tr>
<tr class="even">
<td><code>train_and_evaluate()</code></td>
<td>Interleave training and evaluation.</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Yuan Tang, JJ Allaire, <a href="https://www.rstudio.com"><img src="http://tidyverse.org/rstudio-logo.svg" height="24"></a>, Kevin Ushey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
